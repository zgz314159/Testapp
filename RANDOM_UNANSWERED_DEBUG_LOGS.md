# 智能随机未答继续练习 - 调试日志系统

## 概述
为了方便调试"有些未答题随机后变成已答题的结果状态显示"问题，我们在关键位置添加了统一的调试日志，使用标签 `RandomUnansweredDebug` 便于搜索。

## 日志标签统一说明
- **主标签**: `RandomUnansweredDebug` - 用于所有智能随机未答继续相关的调试
- **子标签**: 在日志内容中使用 `[模式名称]` 来区分不同模式

## 详细日志位置

### 练习模式 (PracticeViewModel.kt)

#### 1. 练习主模式 - setProgressId()
- `🎯 [练习主模式] 开始智能随机未答继续逻辑`
- `🎯 [练习主模式] 发现历史进度，开始智能分析`
- `🔍 [练习主模式] 历史进度详情`
- `🔍 [练习主模式] 开始ID映射分析`
- `🔍 [练习主模式] 映射成功/索引越界`
- `🎯 [练习主模式] 识别已答题目`
- `🎯 [练习主模式] 历史已答题目ID集合`
- `🎯 [练习主模式] 未答题目/已答题目`
- `🎯 [练习主模式] 分离结果`
- `🎯 [练习主模式] 应用智能排序/全部题目已答完/无历史进度/非随机模式`
- `🎯 [练习主模式] 智能排序完成`
- `🎯 [练习主模式] 智能加载完成`

#### 2. 练习错题模式 - loadWrongQuestions()
- `🎯 [练习错题模式] 开始智能随机未答继续逻辑`
- 其他日志格式与主模式相同，仅标签不同

#### 3. 练习收藏模式 - loadFavoriteQuestions()
- `🎯 [练习收藏模式] 开始智能随机未答继续逻辑`
- 其他日志格式与主模式相同，仅标签不同

#### 4. 答题过程记录
- `🎯 [答题记录] 练习模式答题`
- `🎯 [答题记录] 更新题目状态`
- `🎯 [显示结果] 练习模式显示结果`
- `🎯 [显示结果] 首次显示结果，设置时间戳`

### 考试模式 (ExamViewModel.kt)

#### 1. 考试主模式 - loadQuestions()
- `🎯 [考试主模式] 开始智能随机未答继续逻辑`
- `🔍 [考试主模式] 开始ID映射分析`
- `🔍 [考试主模式] 映射成功/索引越界`
- `🎯 [考试主模式] 识别已答题目`
- `🎯 [考试主模式] 历史已答题目ID集合`
- `🎯 [考试主模式] 未答题目/已答题目`
- `🎯 [考试主模式] 分离结果`
- `🎯 [考试主模式] 应用智能排序/全部题目已答完/新考试或清除进度/非随机模式`
- `🎯 [考试主模式] 智能排序完成`
- `[考试主模式] 🎯 智能题目加载完成`

#### 2. 考试错题模式 - loadWrongQuestions()
- `🎯 [考试错题模式] 开始智能随机未答继续逻辑`
- 其他日志格式与主模式相同，仅标签不同

#### 3. 考试收藏模式 - loadFavoriteQuestions()
- `🎯 [考试收藏模式] 开始智能随机未答继续逻辑`
- 其他日志格式与主模式相同，仅标签不同

#### 4. 答题过程记录
- `🎯 [答题记录] 考试模式选择答案`
- `🎯 [答题记录] 多选题取消选择/新增选择`
- `🎯 [答题记录] 单选题选择答案`
- `🎯 [答题记录] 考试模式答题完成`
- `🎯 [显示结果] 考试模式显示结果`

## 如何使用这些日志调试

### 1. 搜索日志
在 Android Studio 的 Logcat 中搜索：
```
RandomUnansweredDebug
```

### 2. 过滤特定模式
```
RandomUnansweredDebug [练习主模式]
RandomUnansweredDebug [考试主模式]
RandomUnansweredDebug [答题记录]
RandomUnansweredDebug [显示结果]
```

### 3. 关键调试点
1. **ID映射检查**: 搜索 `映射成功` 查看题目ID与进度的映射是否正确
2. **已答题目识别**: 搜索 `识别已答题目` 看哪些题目被认为已答
3. **分离结果**: 搜索 `分离结果` 查看未答和已答题目的分离情况
4. **答题状态变化**: 搜索 `答题记录` 和 `显示结果` 跟踪答题过程

### 4. 问题诊断流程
1. 开启随机模式进入练习/考试
2. 查看 `开始ID映射分析` 确认历史数据量
3. 查看 `映射成功` 确认每个index对应的questionId是否正确
4. 查看 `识别已答题目` 确认哪些题目被标记为已答
5. 查看 `分离结果` 确认未答和已答题目的数量分配
6. 进行答题，查看 `答题记录` 和 `显示结果` 确认状态变化

## 预期解决的问题
通过这些详细的日志，我们可以精确定位：
- 题目ID映射是否正确
- 历史进度数据是否准确读取
- 已答/未答题目分离逻辑是否正确
- 答题过程中状态变化是否符合预期
- 智能排序算法是否按预期工作

当出现"未答题显示已答状态"时，这些日志将帮助我们快速找到问题的根源。
